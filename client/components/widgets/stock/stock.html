<div ng-show="!error">
  <div class="widget-body-top-button">
    <button class="btn btn-primary btn-block" ng-init="openAdd = false;" ng-click="openAdd = !openAdd">Add Stock</button>
    <button class="btn btn-secondary" ng-click="get()" icon="fa fa-refresh"></button>
  </div>

  <ul class="list" ng-show="openAdd">
    <li class="list_item active">
      <div class="list_item_btn">
        <a class="btn btn-secondary" icon="fa fa-file-o"></a>
      </div>

      <div class="list_item_data">
        <form ng-submit="create(form)" name="form" novalidate ng-show="openAdd" >
          <input type="text" placeholder="Stock symbol" class="form-control" name="symbol" ng-model="newStock.symbol" required>
        </form>
      </div>
    </li>
  </ul>

  <ul class="list" ng-repeat="stock in stocks">
      <!-- <pre>{{stock}}</pre> -->
    <li class="list_item active">
      <div class="list_item_btn">
        <a class="btn btn-secondary" ng-click="remove(stock)" icon="fa fa-trash-o"></a>
      </div>

      <div class="list_item_data">
        <div class="row">
          <div class="col-md-6">{{stock.data.name | capitalize}} ({{stock.symbol}})</div>

          <div class="col-md-2 text-right">
            <span val="stock.data.change" filter="currency"></span>
          </div>

          <div class="col-md-2 text-right">
            <span val="stock.data.changeInPercent" filter="percentage"></span>
          </div>

          <div class="col-md-2 text-right">
            {{stock.data.bid | currency}}
          </div>
        </div>
      </div>
    </li>

    <li class="list_item extra" ng-if="stock.data">

      <div class="row">

        <div class="col-md-6">
          <dl class="dl-horizontal">
            <dt>Daily volume</dt>
            <dd>{{stock.data.volume | number}} ({{stock.data.averageDailyVolume | number}})</dd>

            <dt>Last trade</dt>
            <dd>{{stock.data.lastTradeTime | date:medium}}</dd>
          </dl>
        </div>

        <div class="col-md-6">
          <dl class="dl-horizontal">
            <dt>Days low</dt>
            <dd>{{stock.data.daysLow | currency}}</dd>

            <dt>Days high</dt>
            <dd>{{stock.data.daysHigh | currency}}</dd>
          </dl>
        </div>

      </div>

    </li>

  </ul>
</div>

<error error="" class="error" ng-show="error">
  <p>{{error.message}}</p>
</error>
